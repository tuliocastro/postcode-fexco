{"version":3,"sources":["util/date.util.js","util/string.util.js","main.js","constants/constants.js","constants/lookups.js","controllers/configuration.ctrl.js","controllers/postcoder.api.controller.js","interceptor/http.exception.interceptor.js","factories/api.factory.js","factories/lookup.executor.service.js","routes/configuration.routes.js","routes/postcoder.routes.js","services/ie.service.js","services/uk.service.js","session/apiKey.session.js","util/array.util.js"],"names":["lpad","str","padString","length","toString","decodeUtf8","arrayBuffer","decoded","forEach","char","String","fromCharCode","pad","input","amount","character","Array","join","window","CONSTANTS","APP","EMPTY_TEMPLATE","angular","module","config","$urlRouterProvider","$httpProvider","growlProvider","otherwise","interceptors","push","globalTimeToLive","run","$rootScope","$state","GlobalConstants","$transitions","APIKeySession","constants","onBefore","to","trans","get","target","constant","API_BASE_ENDPOINT","REQUEST_CONTENT_TYPE","APP_NAME","list","name","Controller","save","store","ctrl","apiKey","go","INITIAL_ROUTE","reset","this","controller","$window","_lookups","filter","findAddresses","params","page","nextPage","previousPage","scrollTo","addresses","selectedLookup","execute","then","res","data","setPagination","err","pagination","lastResult","last","morevalues","nextpage","totalresults","lookups","lines","distance","format","Factory","$q","$injector","responseError","response","status","message","console","log","error","reject","factory","$http","$httpParamSerializerJQLike","buildURL","url","DEFAULT_OPTS","loading","engine","opts","promise","method","headers","transformRequest","upload","_opts","extend","Content-Type","undefined","post","put","delete","IEService","UKService","instances","fields","label","value","required","grid","query","findAddress","findAddressGeo","findPosition","latitude","longitude","findReverseGeo","Routes","$stateProvider","state","templateUrl","template","abstract","resolve","LookupServiceExecutor","Service","API","service","localStorageService","btoed","btoa","set","atob","clear","remove","prototype","o","index","indexOf","splice","Date","getDate","getMonth","getFullYear","getHours","getMinutes","startsWith","endsWith","searchString","position","subjectString","lastIndex","args","arguments","replace","match","number","contains","ignoreCase","toUpperCase","fromBuffer","split","toJSON","json","JSON","parse"],"mappings":"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","file":"postcoder.assets.min.js","sourcesContent":["Date.prototype.toString = function () {\r\n\r\n    return (\"\" + lpad(this.getDate(), \"0\", 2) + \"/\" + (lpad(this.getMonth() + 1, \"0\", 2)) + \"/\" + this.getFullYear() + \" \" + this.getHours() + \":\" + lpad(this.getMinutes(), \"0\", 2));\r\n\r\n};\r\n\r\nfunction lpad(str, padString, length) {\r\n    str = str.toString();\r\n    while (str.length < length) str = padString + str;\r\n    return str;\r\n}","if (typeof String.prototype.startsWith != 'function') {\r\n    // see below for better implementation!\r\n    String.prototype.startsWith = function (str) {\r\n        return this.indexOf(str) === 0;\r\n    };\r\n}\r\n\r\nif (!String.prototype.endsWith) {\r\n    String.prototype.endsWith = function (searchString, position) {\r\n        var subjectString = this.toString();\r\n        if (position === undefined || position > subjectString.length) {\r\n            position = subjectString.length;\r\n        }\r\n        position -= searchString.length;\r\n        var lastIndex = subjectString.indexOf(searchString, position);\r\n        return lastIndex !== -1 && lastIndex === position;\r\n    };\r\n}\r\n\r\nif (!String.prototype.format) {\r\n    String.prototype.format = function () {\r\n        var args = arguments;\r\n        return this.replace(/{(\\d+)}/g, function (match, number) {\r\n            return typeof args[number] != 'undefined'\r\n                ? args[number]\r\n                : match\r\n                ;\r\n        });\r\n    };\r\n}\r\n\r\nif (!String.prototype.contains) {\r\n    String.prototype.contains = function (str, ignoreCase) {\r\n        return (ignoreCase ? this.toUpperCase() : this)\r\n                .indexOf(ignoreCase ? str.toUpperCase() : str) >= 0;\r\n    };\r\n}\r\n\r\n/**\r\n * Converte um buffer para uma string\r\n */\r\nif (!String.prototype.fromBuffer) {\r\n    String.prototype.fromBuffer = function () {\r\n        var string = this.toString();\r\n        var joined = string.split(/(\\r?\\n)/g).join(\"\");\r\n        return joined;\r\n    };\r\n}\r\n\r\n\r\n/**\r\n * Converte string para JSON\r\n */\r\nif (!String.prototype.toJSON) {\r\n    String.prototype.toJSON = function () {\r\n\r\n        var json = '{}';\r\n        if (this && this != '') {\r\n            json = JSON.parse(this);\r\n        }\r\n\r\n        return json;\r\n\r\n    };\r\n}\r\n\r\nfunction decodeUtf8(arrayBuffer) {\r\n\r\n    var decoded = '';\r\n\r\n    arrayBuffer.forEach(function (char) {\r\n        decoded += String.fromCharCode(char);\r\n    });\r\n\r\n    return decoded;\r\n}\r\n\r\nfunction pad(input, amount, character) {\r\n    character = character || '0';\r\n    input = input + '';\r\n    return input.length >= amount ? input : new Array(amount - input.length + 1).join(character) + input;\r\n}",";\r\n(function () {\r\n\r\n    const CONFIGURATION_ROUTE = \"configuration\";\r\n\r\n    window.CONSTANTS = {\r\n        APP: 'app',\r\n        EMPTY_TEMPLATE: '<ui-view />'\r\n    };\r\n\r\n    angular.module(CONSTANTS.APP, [\r\n        'ui.router',\r\n        'LocalStorageModule',\r\n        'sticky',\r\n        'angular-growl'\r\n    ]);\r\n\r\n    angular.module(CONSTANTS.APP).config(function ($urlRouterProvider, $httpProvider, growlProvider) {\r\n\r\n        //Default Route\r\n        $urlRouterProvider.otherwise(CONFIGURATION_ROUTE);\r\n\r\n        //Http Interceptors\r\n        $httpProvider.interceptors.push('HttpExceptionInterceptor');\r\n\r\n        //Growl\r\n        growlProvider.globalTimeToLive(5000);\r\n\r\n    });\r\n\r\n    angular.module(CONSTANTS.APP).run(function ($rootScope, $state, GlobalConstants, $transitions, APIKeySession) {\r\n\r\n        $rootScope.constants = GlobalConstants;\r\n\r\n        $transitions.onBefore({to: 'postcoder.**'}, function (trans) {\r\n\r\n            if (!APIKeySession.get()) {\r\n                return $state.target(CONFIGURATION_ROUTE);\r\n            }\r\n\r\n        });\r\n\r\n    });\r\n\r\n})();",";\r\n(function () {\r\n\r\n    angular.module(CONSTANTS.APP).constant('GlobalConstants', {\r\n        API_BASE_ENDPOINT: 'http://localhost:8080',\r\n        REQUEST_CONTENT_TYPE: 'application/x-www-form-urlencoded;charset=utf-8',\r\n        EMPTY_TEMPLATE: '<div ui-view />',\r\n        APP_NAME: \"Postcoder - front consumer\"\r\n\r\n    });\r\n\r\n})();",";\r\n(function () {\r\n\r\n    angular.module(CONSTANTS.APP).constant('ServicesLookups', {\r\n        list: [\r\n            {name: \" \"},\r\n            {name: \" Irish Address and Coordinate\"},\r\n            {name: \" Irish Coordinate\"},\r\n            {name: \" Irish Reverse geocode coordinates\"},\r\n            {name: \" UK Address\"}\r\n        ]\r\n    });\r\n\r\n})();","(function () {\r\n\r\n    angular.module(CONSTANTS.APP).controller('ConfigurationCtrl', Controller);\r\n\r\n    function Controller($state, APIKeySession) {\r\n\r\n        const INITIAL_ROUTE = \"postcoder.api\";\r\n\r\n        var ctrl = this;\r\n\r\n        ctrl.apiKey = APIKeySession.get() || '';\r\n\r\n        ctrl.save = save;\r\n        ctrl.reset = reset;\r\n\r\n        /**\r\n         * Functions\r\n         */\r\n        function save() {\r\n\r\n            APIKeySession.store(ctrl.apiKey);\r\n\r\n            $state.go(INITIAL_ROUTE);\r\n\r\n        }\r\n\r\n        function reset() {\r\n\r\n            delete ctrl.apiKey;\r\n        }\r\n\r\n    }\r\n\r\n})();","(function () {\r\n\r\n    angular.module(CONSTANTS.APP).controller('PostcoderAPICtrl', Controller);\r\n\r\n    function Controller($window, _lookups) {\r\n\r\n        var ctrl = this;\r\n\r\n        ctrl.lookups = _lookups;\r\n        ctrl.selectedLookup = null;\r\n        ctrl.params = {\r\n            page: 0,\r\n            lines: null,\r\n            distance: null,\r\n            format: 'json'\r\n        };\r\n        ctrl.addresses = null;\r\n        ctrl.pagination = null;\r\n\r\n        ctrl.filter = filter;\r\n        ctrl.nextPage = nextPage;\r\n        ctrl.previousPage = previousPage;\r\n\r\n        function filter() {\r\n\r\n            reset();\r\n\r\n            findAddresses();\r\n\r\n        }\r\n\r\n        function reset() {\r\n\r\n            ctrl.params.page = 0;\r\n\r\n        }\r\n\r\n        function nextPage() {\r\n\r\n            ctrl.params.page += 1;\r\n\r\n            findAddresses();\r\n\r\n        }\r\n\r\n        function previousPage() {\r\n\r\n            ctrl.params.page -= 1;\r\n\r\n            findAddresses();\r\n\r\n        }\r\n\r\n        function findAddresses() {\r\n\r\n            $window.scrollTo(0, 0);\r\n\r\n            delete ctrl.addresses;\r\n\r\n            ctrl.selectedLookup.execute(ctrl.params).then(function (res) {\r\n\r\n                ctrl.addresses = res.data;\r\n\r\n                setPagination();\r\n\r\n            }, function (err) {\r\n\r\n            });\r\n        }\r\n\r\n        function setPagination() {\r\n\r\n            delete ctrl.pagination;\r\n\r\n            var lastResult = ctrl.addresses.last() || {};\r\n\r\n            if (!lastResult || !lastResult.morevalues) {\r\n                return;\r\n            }\r\n\r\n            ctrl.pagination = {\r\n                morevalues: lastResult.morevalues,\r\n                nextpage: lastResult.nextPage,\r\n                totalresults: lastResult.totalresults\r\n            };\r\n\r\n            //Remove Pagination attributes from row result\r\n            delete lastResult.morevalues;\r\n            delete lastResult.nextpage;\r\n            delete  lastResult.totalresults;\r\n\r\n        }\r\n\r\n    }\r\n\r\n})();",";\r\n(function () {\r\n\r\n    angular.module(CONSTANTS.APP).factory('HttpExceptionInterceptor', Factory);\r\n\r\n    function Factory($q, $injector) {\r\n\r\n        return {\r\n\r\n            responseError: function (response) {\r\n\r\n                var data = response.data;\r\n\r\n                if (response.status !== 200 && data && data.message) {\r\n                    console.log('show growl');\r\n                    $injector.get('growl').error(data.message);\r\n                }\r\n\r\n                return $q.reject(response);\r\n\r\n            }\r\n\r\n        };\r\n\r\n    }\r\n\r\n})();",";\r\n(function () {\r\n\r\n    angular.module(CONSTANTS.APP).factory('API', Factory);\r\n\r\n    function Factory(GlobalConstants, $http, $httpParamSerializerJQLike) {\r\n\r\n        var DEFAULT_OPTS = {loading: true};\r\n\r\n        function buildURL(url) {\r\n            return GlobalConstants.API_BASE_ENDPOINT + '/' + url;\r\n        }\r\n\r\n        return {\r\n\r\n            engine: function (opts) {\r\n\r\n                var promise = $http({\r\n                    data: opts.data,\r\n                    method: opts.method,\r\n                    headers: opts.headers,\r\n                    url: buildURL(opts.url),\r\n                    params: opts.params,\r\n                    transformRequest: opts.transformRequest\r\n                });\r\n\r\n                if (opts.loading) {\r\n                    // TODO promise.finally(loading.stop);\r\n                }\r\n\r\n                return promise;\r\n\r\n            },\r\n\r\n            upload: function (opts) {\r\n\r\n                var _opts = angular.extend({\r\n                    method: 'POST',\r\n                    headers: {\r\n                        'Content-Type': undefined\r\n                    },\r\n                    transformRequest: null\r\n                }, DEFAULT_OPTS, opts);\r\n\r\n                return this.engine(_opts);\r\n\r\n            },\r\n\r\n            get: function (opts) {\r\n\r\n                var _opts = angular.extend({\r\n                    method: 'GET',\r\n                    transformRequest: null\r\n                }, DEFAULT_OPTS, opts);\r\n\r\n                return this.engine(_opts);\r\n\r\n            },\r\n\r\n            post: function (opts) {\r\n\r\n                var _opts = angular.extend({\r\n                    method: 'POST',\r\n                    headers: {\r\n                        'Content-Type': 'application/x-www-form-urlencoded;charset=utf-8'\r\n                    },\r\n                    transformRequest: $httpParamSerializerJQLike\r\n                }, DEFAULT_OPTS, opts);\r\n\r\n                return this.engine(_opts);\r\n\r\n            },\r\n\r\n            put: function (opts) {\r\n\r\n                var _opts = angular.extend({\r\n                    method: 'PUT',\r\n                    headers: {\r\n                        'Content-Type': 'application/x-www-form-urlencoded;charset=utf-8'\r\n                    },\r\n                    transformRequest: $httpParamSerializerJQLike\r\n                }, DEFAULT_OPTS, opts);\r\n\r\n                return this.engine(_opts);\r\n\r\n            },\r\n\r\n            delete: function (opts) {\r\n\r\n                var _opts = angular.extend({\r\n                    method: 'DELETE',\r\n                    headers: {\r\n                        'Content-Type': 'application/x-www-form-urlencoded;charset=utf-8'\r\n                    },\r\n                    transformRequest: $httpParamSerializerJQLike\r\n                }, DEFAULT_OPTS, opts);\r\n\r\n                return this.engine(_opts);\r\n\r\n            }\r\n\r\n        };\r\n\r\n    }\r\n\r\n})();",";\r\n(function () {\r\n\r\n    angular.module(CONSTANTS.APP).factory('LookupServiceExecutor', Factory);\r\n\r\n    function Factory(IEService, UKService) {\r\n\r\n        var instances = [\r\n            {\r\n                name: 'Irish Address',\r\n                fields: [\r\n                    {label: \"Eircode / Address Fragment\", value: '', required: true, grid: 'col-xs-12'}\r\n                ],\r\n                execute: function (params) {\r\n\r\n                    var query = this.fields[0].value;\r\n\r\n                    return IEService.findAddress(query, params);\r\n                }\r\n            },\r\n\r\n            {\r\n                name: 'Irish Address and Coordinate',\r\n                fields: [\r\n                    {label: \"Eircode / Address Fragment\", value: '', required: true, grid: 'col-xs-12'}\r\n                ],\r\n                execute: function (params) {\r\n\r\n                    var query = this.fields[0].value;\r\n\r\n                    return IEService.findAddressGeo(query, params);\r\n                }\r\n            },\r\n\r\n            {\r\n                name: 'Irish Coordinate',\r\n                fields: [\r\n                    {label: \"Eircode\", value: '', required: true, grid: 'col-xs-12'}\r\n                ],\r\n                execute: function (params) {\r\n\r\n                    var query = this.fields[0].value;\r\n\r\n                    return IEService.findPosition(query, params);\r\n                }\r\n            },\r\n\r\n            {\r\n                name: 'Irish Reverse geocode coordinates',\r\n                fields: [\r\n                    {label: \"Latitude\", value: '53.332067', required: true, grid: 'col-xs-6'},\r\n                    {label: \"Longitude\", value: '-6.255492', required: false, grid: 'col-xs-6'}\r\n                ],\r\n                execute: function (params) {\r\n\r\n                    var latitude = this.fields[0].value;\r\n                    var longitude = this.fields[1].value;\r\n\r\n                    return IEService.findReverseGeo(latitude, longitude, params);\r\n                }\r\n            },\r\n\r\n\r\n            {\r\n                name: 'UK Address',\r\n                fields: [\r\n                    {label: \"Postcode / Address Fragment\", value: '', required: true, grid: 'col-xs-12'}\r\n                ],\r\n                execute: function (params) {\r\n\r\n                    var query = this.fields[0].value;\r\n\r\n                    return UKService.findAddress(query, params);\r\n                }\r\n\r\n            },\r\n\r\n        ];\r\n\r\n        return {\r\n\r\n            list: function () {\r\n                return instances;\r\n            }\r\n        };\r\n\r\n    }\r\n\r\n})();",";\r\n(function () {\r\n\r\n    angular.module(CONSTANTS.APP).config(Routes);\r\n\r\n    function Routes($stateProvider) {\r\n\r\n        $stateProvider\r\n\r\n            .state({\r\n                name: 'configuration',\r\n                url: '/configuration',\r\n                templateUrl: \"configuration.html\",\r\n                controller: \"ConfigurationCtrl as ctrl\"\r\n            });\r\n\r\n    }\r\n\r\n})();",";\r\n(function () {\r\n\r\n    angular.module(CONSTANTS.APP).config(Routes);\r\n\r\n    function Routes($stateProvider) {\r\n\r\n        $stateProvider\r\n\r\n            .state({\r\n                name: 'postcoder',\r\n                url: '/postcoder',\r\n                template: CONSTANTS.EMPTY_TEMPLATE,\r\n                abstract: true\r\n            })\r\n\r\n            .state({\r\n                name: 'postcoder.api',\r\n                url: '/api',\r\n                templateUrl: \"postcoder/api.html\",\r\n                controller: \"PostcoderAPICtrl as ctrl\",\r\n                resolve: {\r\n                    _lookups: function (LookupServiceExecutor) {\r\n\r\n                        return LookupServiceExecutor.list();\r\n                    }\r\n\r\n                }\r\n            });\r\n\r\n    }\r\n\r\n})();",";\r\n(function () {\r\n\r\n    angular.module(CONSTANTS.APP).service('IEService', Service);\r\n\r\n    function Service(API, APIKeySession) {\r\n\r\n        return {\r\n\r\n            findAddress: function (query, params) {\r\n                return API.get({\r\n                    params: params,\r\n                    url: APIKeySession.get() + '/address/ie/' + query\r\n                });\r\n            },\r\n\r\n            findAddressGeo: function (query, params) {\r\n                return API.get({\r\n                    params: params,\r\n                    url: APIKeySession.get() + '/addressgeo/ie/' + query\r\n                });\r\n            },\r\n\r\n            findPosition: function (query, params) {\r\n                return API.get({\r\n                    params: params,\r\n                    url: APIKeySession.get() + '/position/ie/' + query\r\n                });\r\n            },\r\n\r\n            findReverseGeo: function (latitude, longitude, params) {\r\n                console.log('finding reverse geo');\r\n                return API.get({\r\n                    params: params,\r\n                    url: APIKeySession.get() + '/rgeo/ie/' + latitude + '/' + longitude\r\n                });\r\n            }\r\n\r\n        }\r\n\r\n    }\r\n\r\n})();\r\n",";\r\n(function () {\r\n\r\n    angular.module(CONSTANTS.APP).service('UKService', Service);\r\n\r\n    function Service(API, APIKeySession) {\r\n\r\n        return {\r\n\r\n            findAddress: function (query, params) {\r\n                return API.get({\r\n                    params: params,\r\n                    url: APIKeySession.get() + '/address/uk/' + query\r\n                });\r\n            }\r\n\r\n        }\r\n\r\n    }\r\n\r\n})();\r\n","(function () {\r\n\r\n    angular.module(CONSTANTS.APP).factory('APIKeySession', Factory);\r\n\r\n    function Factory(localStorageService) {\r\n\r\n        var KEY_PCW_KEY = '___POSTPCWKEY';\r\n\r\n        return {\r\n\r\n            store: function (data) {\r\n\r\n                var btoed = btoa(data);\r\n\r\n                localStorageService.set(KEY_PCW_KEY, btoed);\r\n            },\r\n\r\n            get: function () {\r\n\r\n                var btoed = localStorageService.get(KEY_PCW_KEY);\r\n\r\n                if (!btoed){\r\n                    return null;\r\n                }\r\n\r\n                return atob(btoed);\r\n            },\r\n\r\n            clear: function () {\r\n                localStorageService.remove(KEY_PCW_KEY);\r\n            }\r\n\r\n        };\r\n\r\n    }\r\n\r\n})();","/**\r\n * Fastest way to get the last element from array\r\n */\r\nif (!Array.prototype.last) {\r\n    Array.prototype.last = function () {\r\n        return this[this.length - 1];\r\n    };\r\n}\r\n\r\n/**\r\n * Remove an object from array using splice method\r\n */\r\nif (!Array.prototype.remove) {\r\n    Array.prototype.remove = function (o) {\r\n        var index = this.indexOf(o);\r\n        if (index >= 0) {\r\n            this.splice(index, 1);\r\n        }\r\n    };\r\n}"]}