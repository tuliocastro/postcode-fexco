{"version":3,"sources":["main.js","constants/constants.js","constants/lookups.js","controllers/configuration.ctrl.js","controllers/postcoder.api.ctrl.js","directive/ajax.loading.directive.js","factories/api.factory.js","factories/lookup.executor.service.js","interceptor/http.exception.interceptor.js","routes/configuration.routes.js","routes/postcoder.routes.js","session/apiKey.session.js","services/ie.service.js","services/uk.service.js","util/array.util.js"],"names":["window","CONSTANTS","APP","EMPTY_TEMPLATE","angular","module","config","$urlRouterProvider","$httpProvider","growlProvider","otherwise","interceptors","push","globalTimeToLive","run","$rootScope","$state","GlobalConstants","$transitions","APIKeySession","constants","onBefore","to","trans","get","target","constant","API_BASE_ENDPOINT","REQUEST_CONTENT_TYPE","APP_NAME","list","name","Controller","save","store","ctrl","apiKey","go","INITIAL_ROUTE","reset","this","controller","growl","$window","_lookups","filter","findAddresses","params","page","nextPage","previousPage","scrollTo","addresses","selectedLookup","execute","then","res","data","setPagination","pagination","lastResult","last","morevalues","nextpage","totalresults","lookups","lines","distance","format","Directive","$http","restrict","link","scope","element","attrs","isLoading","pendingRequests","length","$watch","value","removeClass","addClass","directive","Factory","$httpParamSerializerJQLike","buildURL","url","DEFAULT_OPTS","loading","engine","opts","promise","method","headers","transformRequest","upload","_opts","extend","Content-Type","undefined","post","put","delete","factory","IEService","UKService","instances","fields","label","required","grid","query","findAddress","findAddressGeo","findPosition","latitude","longitude","findReverseGeo","$q","$injector","responseError","response","status","error","reject","message","Routes","$stateProvider","state","templateUrl","template","abstract","resolve","LookupServiceExecutor","localStorageService","btoed","btoa","set","atob","clear","remove","Service","API","console","log","service","Array","prototype","o","index","indexOf","splice"],"mappings":"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","file":"postcoder.assets.min.js","sourcesContent":[";\r\n(function () {\r\n\r\n    const CONFIGURATION_ROUTE = \"configuration\";\r\n\r\n    window.CONSTANTS = {\r\n        APP: 'app',\r\n        EMPTY_TEMPLATE: '<ui-view />'\r\n    };\r\n\r\n    angular.module(CONSTANTS.APP, [\r\n        'ui.router',\r\n        'LocalStorageModule',\r\n        'sticky',\r\n        'angular-growl'\r\n    ]);\r\n\r\n    angular.module(CONSTANTS.APP).config(function ($urlRouterProvider, $httpProvider, growlProvider) {\r\n\r\n        //Default Route\r\n        $urlRouterProvider.otherwise(CONFIGURATION_ROUTE);\r\n\r\n        //Http Interceptors\r\n        $httpProvider.interceptors.push('HttpExceptionInterceptor');\r\n\r\n        //Growl\r\n        growlProvider.globalTimeToLive(5000);\r\n\r\n    });\r\n\r\n    angular.module(CONSTANTS.APP).run(function ($rootScope, $state, GlobalConstants, $transitions, APIKeySession) {\r\n\r\n        $rootScope.constants = GlobalConstants;\r\n\r\n        $transitions.onBefore({to: 'postcoder.**'}, function (trans) {\r\n\r\n            if (!APIKeySession.get()) {\r\n                return $state.target(CONFIGURATION_ROUTE);\r\n            }\r\n\r\n        });\r\n\r\n    });\r\n\r\n})();",";\r\n(function () {\r\n\r\n    angular.module(CONSTANTS.APP).constant('GlobalConstants', {\r\n        API_BASE_ENDPOINT: 'http://localhost:8080',\r\n        REQUEST_CONTENT_TYPE: 'application/x-www-form-urlencoded;charset=utf-8',\r\n        EMPTY_TEMPLATE: '<div ui-view />',\r\n        APP_NAME: \"Postcoder - front consumer\"\r\n\r\n    });\r\n\r\n})();",";\r\n(function () {\r\n\r\n    angular.module(CONSTANTS.APP).constant('ServicesLookups', {\r\n        list: [\r\n            {name: \" \"},\r\n            {name: \" Irish Address and Coordinate\"},\r\n            {name: \" Irish Coordinate\"},\r\n            {name: \" Irish Reverse geocode coordinates\"},\r\n            {name: \" UK Address\"}\r\n        ]\r\n    });\r\n\r\n})();","(function () {\r\n\r\n    angular.module(CONSTANTS.APP).controller('ConfigurationCtrl', Controller);\r\n\r\n    function Controller($state, APIKeySession) {\r\n\r\n        const INITIAL_ROUTE = \"postcoder.api\";\r\n\r\n        var ctrl = this;\r\n\r\n        ctrl.apiKey = APIKeySession.get() || '';\r\n\r\n        ctrl.save = save;\r\n        ctrl.reset = reset;\r\n\r\n        /**\r\n         * Functions\r\n         */\r\n        function save() {\r\n\r\n            APIKeySession.store(ctrl.apiKey);\r\n\r\n            $state.go(INITIAL_ROUTE);\r\n\r\n        }\r\n\r\n        function reset() {\r\n\r\n            delete ctrl.apiKey;\r\n        }\r\n\r\n    }\r\n\r\n})();","(function () {\r\n\r\n    angular.module(CONSTANTS.APP).controller('PostcoderAPICtrl', Controller);\r\n\r\n    function Controller(growl, $window, _lookups) {\r\n\r\n        var ctrl = this;\r\n\r\n        ctrl.lookups = _lookups;\r\n        ctrl.selectedLookup = null;\r\n        ctrl.params = {\r\n            page: 0,\r\n            lines: null,\r\n            distance: null,\r\n            format: 'json'\r\n        };\r\n        ctrl.addresses = null;\r\n        ctrl.pagination = null;\r\n\r\n        ctrl.filter = filter;\r\n        ctrl.nextPage = nextPage;\r\n        ctrl.previousPage = previousPage;\r\n        ctrl.reset = reset;\r\n\r\n        function filter() {\r\n\r\n            reset();\r\n\r\n            findAddresses();\r\n\r\n        }\r\n\r\n        function reset() {\r\n\r\n            ctrl.params.page = 0;\r\n\r\n        }\r\n\r\n        function nextPage() {\r\n\r\n            ctrl.params.page += 1;\r\n\r\n            findAddresses();\r\n\r\n        }\r\n\r\n        function previousPage() {\r\n\r\n            ctrl.params.page -= 1;\r\n\r\n            findAddresses();\r\n\r\n        }\r\n\r\n        function findAddresses() {\r\n\r\n            $window.scrollTo(0, 0);\r\n\r\n            delete ctrl.addresses;\r\n\r\n            ctrl.selectedLookup.execute(ctrl.params).then(function (res) {\r\n\r\n                ctrl.addresses = res.data;\r\n\r\n                setPagination();\r\n\r\n            });\r\n        }\r\n\r\n        function setPagination() {\r\n\r\n            delete ctrl.pagination;\r\n\r\n            var lastResult = ctrl.addresses.last() || {};\r\n\r\n            if (!lastResult || !lastResult.morevalues) {\r\n                return;\r\n            }\r\n\r\n            ctrl.pagination = {\r\n                morevalues: lastResult.morevalues,\r\n                nextpage: lastResult.nextPage,\r\n                totalresults: lastResult.totalresults\r\n            };\r\n\r\n            //Remove Pagination attributes from row result\r\n            delete lastResult.morevalues;\r\n            delete lastResult.nextpage;\r\n            delete  lastResult.totalresults;\r\n\r\n        }\r\n\r\n    }\r\n\r\n})();",";\r\n(function () {\r\n\r\n    angular.module(CONSTANTS.APP).directive('ajaxLoading', Directive);\r\n\r\n    function Directive($http) {\r\n\r\n        return {\r\n            restrict: 'A',\r\n            link: function (scope, element, attrs) {\r\n\r\n                scope.isLoading = function () {\r\n                    return $http.pendingRequests.length > 0;\r\n                };\r\n\r\n                scope.$watch(scope.isLoading, function (value) {\r\n                    if (value) {\r\n                        element.removeClass('ng-hide');\r\n                    } else {\r\n                        element.addClass('ng-hide');\r\n                    }\r\n                });\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n})();",";\r\n(function () {\r\n\r\n    angular.module(CONSTANTS.APP).factory('API', Factory);\r\n\r\n    function Factory(GlobalConstants, $http, $httpParamSerializerJQLike) {\r\n\r\n        var DEFAULT_OPTS = {loading: true};\r\n\r\n        function buildURL(url) {\r\n            return GlobalConstants.API_BASE_ENDPOINT + '/' + url;\r\n        }\r\n\r\n        return {\r\n\r\n            engine: function (opts) {\r\n\r\n                var promise = $http({\r\n                    data: opts.data,\r\n                    method: opts.method,\r\n                    headers: opts.headers,\r\n                    url: buildURL(opts.url),\r\n                    params: opts.params,\r\n                    transformRequest: opts.transformRequest\r\n                });\r\n\r\n                if (opts.loading) {\r\n                    // TODO promise.finally(loading.stop);\r\n                }\r\n\r\n                return promise;\r\n\r\n            },\r\n\r\n            upload: function (opts) {\r\n\r\n                var _opts = angular.extend({\r\n                    method: 'POST',\r\n                    headers: {\r\n                        'Content-Type': undefined\r\n                    },\r\n                    transformRequest: null\r\n                }, DEFAULT_OPTS, opts);\r\n\r\n                return this.engine(_opts);\r\n\r\n            },\r\n\r\n            get: function (opts) {\r\n\r\n                var _opts = angular.extend({\r\n                    method: 'GET',\r\n                    transformRequest: null\r\n                }, DEFAULT_OPTS, opts);\r\n\r\n                return this.engine(_opts);\r\n\r\n            },\r\n\r\n            post: function (opts) {\r\n\r\n                var _opts = angular.extend({\r\n                    method: 'POST',\r\n                    headers: {\r\n                        'Content-Type': 'application/x-www-form-urlencoded;charset=utf-8'\r\n                    },\r\n                    transformRequest: $httpParamSerializerJQLike\r\n                }, DEFAULT_OPTS, opts);\r\n\r\n                return this.engine(_opts);\r\n\r\n            },\r\n\r\n            put: function (opts) {\r\n\r\n                var _opts = angular.extend({\r\n                    method: 'PUT',\r\n                    headers: {\r\n                        'Content-Type': 'application/x-www-form-urlencoded;charset=utf-8'\r\n                    },\r\n                    transformRequest: $httpParamSerializerJQLike\r\n                }, DEFAULT_OPTS, opts);\r\n\r\n                return this.engine(_opts);\r\n\r\n            },\r\n\r\n            delete: function (opts) {\r\n\r\n                var _opts = angular.extend({\r\n                    method: 'DELETE',\r\n                    headers: {\r\n                        'Content-Type': 'application/x-www-form-urlencoded;charset=utf-8'\r\n                    },\r\n                    transformRequest: $httpParamSerializerJQLike\r\n                }, DEFAULT_OPTS, opts);\r\n\r\n                return this.engine(_opts);\r\n\r\n            }\r\n\r\n        };\r\n\r\n    }\r\n\r\n})();",";\r\n(function () {\r\n\r\n    angular.module(CONSTANTS.APP).factory('LookupServiceExecutor', Factory);\r\n\r\n    function Factory(IEService, UKService) {\r\n\r\n        var instances = [\r\n            {\r\n                name: 'Irish Address',\r\n                fields: [\r\n                    {label: \"Eircode / Address Fragment\", value: '', required: true, grid: 'col-xs-12'}\r\n                ],\r\n                execute: function (params) {\r\n\r\n                    var query = this.fields[0].value;\r\n\r\n                    return IEService.findAddress(query, params);\r\n                }\r\n            },\r\n\r\n            {\r\n                name: 'Irish Address and Coordinate',\r\n                fields: [\r\n                    {label: \"Eircode / Address Fragment\", value: '', required: true, grid: 'col-xs-12'}\r\n                ],\r\n                execute: function (params) {\r\n\r\n                    var query = this.fields[0].value;\r\n\r\n                    return IEService.findAddressGeo(query, params);\r\n                }\r\n            },\r\n\r\n            {\r\n                name: 'Irish Coordinate',\r\n                fields: [\r\n                    {label: \"Eircode\", value: '', required: true, grid: 'col-xs-12'}\r\n                ],\r\n                execute: function (params) {\r\n\r\n                    var query = this.fields[0].value;\r\n\r\n                    return IEService.findPosition(query, params);\r\n                }\r\n            },\r\n\r\n            {\r\n                name: 'Irish Reverse geocode coordinates',\r\n                fields: [\r\n                    {label: \"Latitude\", value: '', required: true, grid: 'col-xs-6'},\r\n                    {label: \"Longitude\", value: '', required: false, grid: 'col-xs-6'}\r\n                ],\r\n                execute: function (params) {\r\n\r\n                    var latitude = this.fields[0].value;\r\n                    var longitude = this.fields[1].value;\r\n\r\n                    return IEService.findReverseGeo(latitude, longitude, params);\r\n                }\r\n            },\r\n\r\n\r\n            {\r\n                name: 'UK Address',\r\n                fields: [\r\n                    {label: \"Postcode / Address Fragment\", value: '', required: true, grid: 'col-xs-12'}\r\n                ],\r\n                execute: function (params) {\r\n\r\n                    var query = this.fields[0].value;\r\n\r\n                    return UKService.findAddress(query, params);\r\n                }\r\n\r\n            },\r\n\r\n        ];\r\n\r\n        return {\r\n\r\n            list: function () {\r\n                return instances;\r\n            }\r\n        };\r\n\r\n    }\r\n\r\n})();",";\r\n(function () {\r\n\r\n    angular.module(CONSTANTS.APP).factory('HttpExceptionInterceptor', Factory);\r\n\r\n    function Factory($q, $injector) {\r\n\r\n        return {\r\n\r\n            responseError: function (response) {\r\n\r\n                if (response.status < 0) {\r\n                    $injector.get('growl').error(\"Server API is not responding...\");\r\n                    return $q.reject(response);\r\n                }\r\n\r\n                var data = response.data;\r\n\r\n                if (response.status !== 200 && data && data.message) {\r\n                    $injector.get('growl').error(data.message);\r\n                }\r\n\r\n                return $q.reject(response);\r\n\r\n            }\r\n\r\n        };\r\n\r\n    }\r\n\r\n})();",";\r\n(function () {\r\n\r\n    angular.module(CONSTANTS.APP).config(Routes);\r\n\r\n    function Routes($stateProvider) {\r\n\r\n        $stateProvider\r\n\r\n            .state({\r\n                name: 'configuration',\r\n                url: '/configuration',\r\n                templateUrl: \"configuration.html\",\r\n                controller: \"ConfigurationCtrl as ctrl\"\r\n            });\r\n\r\n    }\r\n\r\n})();",";\r\n(function () {\r\n\r\n    angular.module(CONSTANTS.APP).config(Routes);\r\n\r\n    function Routes($stateProvider) {\r\n\r\n        $stateProvider\r\n\r\n            .state({\r\n                name: 'postcoder',\r\n                url: '/postcoder',\r\n                template: CONSTANTS.EMPTY_TEMPLATE,\r\n                abstract: true\r\n            })\r\n\r\n            .state({\r\n                name: 'postcoder.api',\r\n                url: '/api',\r\n                templateUrl: \"postcoder/api.html\",\r\n                controller: \"PostcoderAPICtrl as ctrl\",\r\n                resolve: {\r\n                    _lookups: function (LookupServiceExecutor) {\r\n\r\n                        return LookupServiceExecutor.list();\r\n                    }\r\n\r\n                }\r\n            });\r\n\r\n    }\r\n\r\n})();","(function () {\r\n\r\n    angular.module(CONSTANTS.APP).factory('APIKeySession', Factory);\r\n\r\n    function Factory(localStorageService) {\r\n\r\n        var KEY_PCW_KEY = '___POSTPCWKEY';\r\n\r\n        return {\r\n\r\n            store: function (data) {\r\n\r\n                var btoed = btoa(data);\r\n\r\n                localStorageService.set(KEY_PCW_KEY, btoed);\r\n            },\r\n\r\n            get: function () {\r\n\r\n                var btoed = localStorageService.get(KEY_PCW_KEY);\r\n\r\n                if (!btoed){\r\n                    return null;\r\n                }\r\n\r\n                return atob(btoed);\r\n            },\r\n\r\n            clear: function () {\r\n                localStorageService.remove(KEY_PCW_KEY);\r\n            }\r\n\r\n        };\r\n\r\n    }\r\n\r\n})();",";\r\n(function () {\r\n\r\n    angular.module(CONSTANTS.APP).service('IEService', Service);\r\n\r\n    function Service(API, APIKeySession) {\r\n\r\n        return {\r\n\r\n            findAddress: function (query, params) {\r\n                return API.get({\r\n                    params: params,\r\n                    url: APIKeySession.get() + '/address/ie/' + query\r\n                });\r\n            },\r\n\r\n            findAddressGeo: function (query, params) {\r\n                return API.get({\r\n                    params: params,\r\n                    url: APIKeySession.get() + '/addressgeo/ie/' + query\r\n                });\r\n            },\r\n\r\n            findPosition: function (query, params) {\r\n                return API.get({\r\n                    params: params,\r\n                    url: APIKeySession.get() + '/position/ie/' + query\r\n                });\r\n            },\r\n\r\n            findReverseGeo: function (latitude, longitude, params) {\r\n                console.log('finding reverse geo');\r\n                return API.get({\r\n                    params: params,\r\n                    url: APIKeySession.get() + '/rgeo/ie/' + latitude + '/' + longitude\r\n                });\r\n            }\r\n\r\n        }\r\n\r\n    }\r\n\r\n})();\r\n",";\r\n(function () {\r\n\r\n    angular.module(CONSTANTS.APP).service('UKService', Service);\r\n\r\n    function Service(API, APIKeySession) {\r\n\r\n        return {\r\n\r\n            findAddress: function (query, params) {\r\n                return API.get({\r\n                    params: params,\r\n                    url: APIKeySession.get() + '/address/uk/' + query\r\n                });\r\n            }\r\n\r\n        }\r\n\r\n    }\r\n\r\n})();\r\n","/**\r\n * Fastest way to get the last element from array\r\n */\r\nif (!Array.prototype.last) {\r\n    Array.prototype.last = function () {\r\n        return this[this.length - 1];\r\n    };\r\n}\r\n\r\n/**\r\n * Remove an object from array using splice method\r\n */\r\nif (!Array.prototype.remove) {\r\n    Array.prototype.remove = function (o) {\r\n        var index = this.indexOf(o);\r\n        if (index >= 0) {\r\n            this.splice(index, 1);\r\n        }\r\n    };\r\n}"]}